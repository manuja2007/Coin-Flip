<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin Flip Betting Game</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f0f0f0; color: #333; }
        h1 { text-align: center; }
        .hidden { display: none; }
        #login, #adminPanel, #playerPanel { margin: 20px auto; padding: 20px; background: #fff; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); max-width: 400px; }
        button { padding: 10px 15px; border: none; border-radius: 5px; background-color: #007bff; color: white; cursor: pointer; transition: background 0.3s; }
        button:hover { background-color: #0056b3; }
        #leaderboard { margin-top: 20px; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
        th { background-color: #f2f2f2; }
        .coin { width: 100px; height: 100px; background-image: url('https://example.com/coin-head.png'); /* Change this to your head coin image */ background-size: cover; border-radius: 50%; margin: 20px auto; transition: transform 0.5s; }
        .flipping { animation: flip 0.8s forwards; }
        @keyframes flip {
            0% { transform: rotateY(0); }
            50% { transform: rotateY(180deg); }
            100% { transform: rotateY(360deg); }
        }
    </style>
</head>
<body>

    <h1>Coin Flip Betting Game</h1>

    <div id="login">
        <h2>Login</h2>
        <div>
            <label for="role">Select Role:</label>
            <select id="role">
                <option value="admin">Admin</option>
                <option value="player">Player</option>
            </select>
        </div>
        <input type="password" id="password" placeholder="Enter Password">
        <button onclick="login()">Login</button>
        <p id="loginMessage" class="hidden"></p>
    </div>

    <div id="adminPanel" class="hidden">
        <h2>Admin Panel</h2>
        <button onclick="startBetting()">Start Betting</button>
        <button onclick="flipCoin()">Flip Coin</button>
        <p>Last Result: <span id="lastResult">None</span></p>
        <div class="coin" id="coin"></div>
    </div>

    <div id="playerPanel" class="hidden">
        <h2>Player Panel</h2>
        <button onclick="placeBet('head')">Bet on Head</button>
        <button onclick="placeBet('tail')">Bet on Tail</button>
        <p id="betMessage"></p>
    </div>

    <div id="leaderboard">
        <h2>Leaderboard</h2>
        <table>
            <thead>
                <tr>
                    <th>Player</th>
                    <th>Bet</th>
                    <th>Result</th>
                </tr>
            </thead>
            <tbody id="leaderboardBody">
            </tbody>
        </table>
    </div>

    <script>
        const adminPassword = 'admin123';
        const playerPassword = 'player123';
        let bettingActive = false;
        let players = [];

        function login() {
            const role = document.getElementById('role').value;
            const password = document.getElementById('password').value;
            const loginMessage = document.getElementById('loginMessage');

            if (role === 'admin' && password === adminPassword) {
                document.getElementById('login').classList.add('hidden');
                document.getElementById('adminPanel').classList.remove('hidden');
                loginMessage.classList.add('hidden');
            } else if (role === 'player' && password === playerPassword) {
                document.getElementById('login').classList.add('hidden');
                document.getElementById('playerPanel').classList.remove('hidden');
                loginMessage.classList.add('hidden');
            } else {
                loginMessage.textContent = 'Access Denied!';
                loginMessage.classList.remove('hidden');
            }
        }

        function startBetting() {
            bettingActive = true;
            players = []; // Clear previous players
            document.getElementById('betMessage').textContent = '';
            updateLeaderboard();
            alert('Betting has started! Players can place bets now.');
        }

        function placeBet(bet) {
            if (!bettingActive) {
                alert('Betting is not active!');
                return;
            }
            const playerName = prompt('Enter your name:');
            if (!playerName) return;

            players.push({ name: playerName, bet: bet });
            document.getElementById('betMessage').textContent = `${playerName} has bet on ${bet}.`;
            updateLeaderboard();
        }

        function flipCoin() {
            const coin = document.getElementById('coin');
            coin.classList.add('flipping');
            setTimeout(() => {
                const coinResult = Math.random() < 0.5 ? 'head' : 'tail';
                document.getElementById('lastResult').textContent = coinResult;
                coin.classList.remove('flipping');
                coin.style.backgroundImage = `url('https://example.com/coin-${coinResult}.png')`; // Change this to your tail coin image
                players.forEach(player => {
                    const row = document.createElement('tr');
                    row.innerHTML = `<td>${player.name}</td><td>${player.bet}</td><td>${player.bet === coinResult ? 'Win' : 'Lose'}</td>`;
                    document.getElementById('leaderboardBody').appendChild(row);
                });
                bettingActive = false; // End betting after the flip
            }, 800); // Match the timeout with the animation duration
        }

        function updateLeaderboard() {
            document.getElementById('leaderboardBody').innerHTML = ''; // Clear previous leaderboard
            players.forEach(player => {
                const row = document.createElement('tr');
                row.innerHTML = `<td>${player.name}</td><td>${player.bet}</td><td>Pending</td>`;
                document.getElementById('leaderboardBody').appendChild(row);
            });
        }
    </script>
</body>
</html>
