<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin Flip Game</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
        }
        h1 { color: #333; }
        .hidden { display: none; }
        .result { font-size: 24px; }
        .leaderboard { margin-top: 20px; }
    </style>
</head>
<body>
    <h1>Coin Flip Game</h1>
    <div id="loginForm" class="hidden">
        <h2>Login</h2>
        <input type="password" id="loginPassword" placeholder="Enter Password">
        <button id="loginButton">Login</button>
        <p id="loginMessage" class="hidden"></p>
    </div>
    
    <div id="adminPanel" class="hidden">
        <h2>Admin Panel</h2>
        <button id="startBettingButton">Start Betting</button>
        <button id="flipCoinButton" class="hidden">Flip Coin</button>
        <p id="coinResult" class="result"></p>
    </div>
    
    <div id="playerPanel" class="hidden">
        <h2>Player Panel</h2>
        <button id="betHeadsButton">Bet Heads</button>
        <button id="betTailsButton">Bet Tails</button>
        <p id="betMessage" class="result"></p>
    </div>

    <div id="leaderboard" class="leaderboard hidden">
        <h2>Leaderboard</h2>
        <ul id="leaderboardList"></ul>
    </div>

    <script>
        const adminPassword = "admin123"; // Admin password
        const playerPassword = "player123"; // Player password

        let isAdmin = false;
        let isPlayer = false;
        let players = [];
        let winners = [];
        let bettingActive = false;

        document.getElementById("loginButton").addEventListener("click", () => {
            const password = document.getElementById("loginPassword").value;
            if (password === adminPassword) {
                isAdmin = true;
                showAdminPanel();
            } else if (password === playerPassword) {
                isPlayer = true;
                showPlayerPanel();
            } else {
                document.getElementById("loginMessage").innerText = "Access Denied!";
                document.getElementById("loginMessage").classList.remove("hidden");
            }
        });

        function showAdminPanel() {
            document.getElementById("loginForm").classList.add("hidden");
            document.getElementById("adminPanel").classList.remove("hidden");
        }

        function showPlayerPanel() {
            document.getElementById("loginForm").classList.add("hidden");
            document.getElementById("playerPanel").classList.remove("hidden");
            if (bettingActive) {
                document.getElementById("betHeadsButton").disabled = false;
                document.getElementById("betTailsButton").disabled = false;
            } else {
                document.getElementById("betHeadsButton").disabled = true;
                document.getElementById("betTailsButton").disabled = true;
            }
        }

        document.getElementById("startBettingButton").addEventListener("click", () => {
            bettingActive = true;
            document.getElementById("startBettingButton").classList.add("hidden");
            document.getElementById("flipCoinButton").classList.remove("hidden");
            document.getElementById("betMessage").innerText = "Players can now place their bets!";
        });

        document.getElementById("betHeadsButton").addEventListener("click", () => placeBet("Heads"));
        document.getElementById("betTailsButton").addEventListener("click", () => placeBet("Tails"));

        function placeBet(bet) {
            if (!bettingActive) return;
            players.push(bet);
            document.getElementById("betMessage").innerText = `You bet on: ${bet}`;
        }

        document.getElementById("flipCoinButton").addEventListener("click", () => {
            flipCoin();
        });

        function flipCoin() {
            const coinFlip = Math.random() < 0.5 ? "Heads" : "Tails";
            document.getElementById("coinResult").innerText = `Coin flipped: ${coinFlip}`;
            determineWinners(coinFlip);
            bettingActive = false; // Disable further betting
            updateLeaderboard();
        }

        function determineWinners(coinFlip) {
            winners = players.filter(player => player === coinFlip);
            document.getElementById("betMessage").innerText = winners.length > 0 ? `Winners: ${winners.join(", ")}` : "No winners this round!";
        }

        function updateLeaderboard() {
            const leaderboardList = document.getElementById("leaderboardList");
            leaderboardList.innerHTML = ""; // Clear previous leaderboard
            winners.forEach(winner => {
                const li = document.createElement("li");
                li.textContent = winner;
                leaderboardList.appendChild(li);
            });
            document.getElementById("leaderboard").classList.remove("hidden");
        }
    </script>
</body>
</html>
